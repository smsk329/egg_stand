<% if customer_signed_in? %>

  <!--一致するレコードが存在する＝すでにいいね済みの場合はdestroyアクションへ-->
  <% if shop.favorited_by?(current_customer) %>
    <div class="favorite">
      <%= link_to shop_favorites_path(shop), method: :delete, remote: true do %>
        <i class="fa-solid fa-star fa-lg" style="color: #FFCC00; margin-right: 5px;"></i>
      <% end %><%= shop.favorites.count %>人がブックマーク
    </div>

    <!--一致するレコードが存在しない＝まだいいねしていない場合はcreateアクションへ-->
    <% else %>
    <div class="favorite">
      <%= link_to shop_favorites_path(shop), method: :post, remote: true do %>
        <i class="fa-solid fa-star fa-lg" style="color: #CACACA; margin-right: 5px;"></i>
      <% end %><%= shop.favorites.count %>人がブックマーク
    </div>
  <% end %>

<!--ログアウト時はいいね機能は使えない-->
<% else %>
  <div class="favorite">
    <i class="fa-solid fa-star fa-lg" style="color: #FFCC00; margin-right: 5px;"></i><%= shop.favorites.count %>人がブックマーク
  </div>
<% end %>